// src/app/layout.js
"use client";

import Link from "next/link";
import { usePathname } from "next/navigation";
import "./globals.css"; // ã¾ã ç„¡ã‘ã‚Œã°ã“ã®è¡Œã¯ä¸€æ—¦æ®‹ã—ã¦OKã€‚å¾Œã§ä½œã‚Œã°å¤§ä¸ˆå¤«ã€‚

export default function RootLayout({ children }) {
  const pathname = usePathname();

  // ã‚¿ãƒ–ã®å®šç¾©
  const tabs = [
    { href: "/", label: "ãƒ›ãƒ¼ãƒ ", emoji: "ğŸ " },
    { href: "/record", label: "è¨˜éŒ²", emoji: "â±" },
    { href: "/history", label: "å±¥æ­´", emoji: "ğŸ“œ" },
    { href: "/calendar", label: "ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼", emoji: "ğŸ“…" },
    { href: "/settings", label: "è¨­å®š", emoji: "âš™ï¸" },
  ];

  return (
    <html lang="ja">
      <body
        style={{
          fontFamily: "system-ui, sans-serif",
          backgroundColor: "#fafafa",
          minHeight: "100vh",
          margin: 0,
          padding: 0,
          display: "flex",
          flexDirection: "column",
        }}
      >
        {/* ã‚³ãƒ³ãƒ†ãƒ³ãƒ„æœ¬ä½“ */}
        <div
          style={{
            flex: 1,
            paddingBottom: "64px", // ä¸‹ã‚¿ãƒ–ã¶ã‚“ã®ä½™ç™½
            maxWidth: "480px",
            width: "100%",
            margin: "0 auto",
          }}
        >
          {children}
        </div>

        {/* å›ºå®šãƒ•ãƒƒã‚¿ãƒ¼ãƒŠãƒ“ */}
        <nav
          style={{
            position: "fixed",
            left: 0,
            right: 0,
            bottom: 0,
            background: "#ffffff",
            borderTop: "1px solid #ddd",
            height: "64px",
            display: "flex",
            justifyContent: "space-around",
            alignItems: "center",
            maxWidth: "480px",
            margin: "0 auto",
            // ã‚¹ãƒãƒ›ã§çœŸã‚“ä¸­å¯„ã›ã™ã‚‹ãŸã‚ã®ãƒˆãƒªãƒƒã‚¯
            width: "100%",
          }}
        >
          <div
            style={{
              display: "flex",
              justifyContent: "space-around",
              alignItems: "center",
              width: "100%",
              maxWidth: "480px",
              margin: "0 auto",
            }}
          >
            {tabs.map((tab) => {
              const active = pathname === tab.href;
              return (
                <Link
                  key={tab.href}
                  href={tab.href}
                  style={{
                    textDecoration: "none",
                    fontSize: "12px",
                    color: active ? "#6a00a0" : "#444",
                    fontWeight: active ? "600" : "400",
                    display: "flex",
                    flexDirection: "column",
                    alignItems: "center",
                    minWidth: "64px",
                  }}
                >
                  <span
                    style={{
                      fontSize: "20px",
                      lineHeight: 1.2,
                      marginBottom: "4px",
                    }}
                  >
                    {tab.emoji}
                  </span>
                  <span>{tab.label}</span>
                </Link>
              );
            })}
          </div>
        </nav>
      </body>
    </html>
  );
}
